<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cosmetics & beauty - Analysis Report</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .nav-bar {
            background: white;
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .nav-links {
            display: flex;
            gap: 15px;
        }
        .nav-link {
            padding: 8px 16px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 500;
            transition: background 0.3s;
        }
        .nav-link:hover {
            background: #764ba2;
        }
        .nav-link.home {
            background: #27ae60;
        }
        .nav-link.home:hover {
            background: #229954;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            position: relative;
        }
        .header h1 {
            margin: 0 0 10px 0;
        }
        .header .timestamp {
            opacity: 0.9;
            font-size: 0.9em;
        }
        .controls {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .controls h3 {
            margin-top: 0;
        }
        .filter-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }
        .filter-btn {
            padding: 8px 16px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }
        .filter-btn:hover {
            background: #f0f0ff;
        }
        .filter-btn.active {
            background: #667eea;
            color: white;
        }
        .search-box {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            margin-bottom: 10px;
        }
        .search-box:focus {
            outline: none;
            border-color: #667eea;
        }
        .collapsible-section {
            margin: 20px 0;
        }
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #dee2e6;
            transition: background 0.3s;
        }
        .section-header:hover {
            background: #e9ecef;
        }
        .section-header h2 {
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .toggle-icon {
            font-size: 20px;
            font-weight: bold;
            color: #667eea;
            transition: transform 0.3s;
        }
        .toggle-icon.expanded {
            transform: rotate(90deg);
        }
        .section-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .section-content.expanded {
            max-height: 2000px;
            padding-top: 15px;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }
        .stat-label {
            color: #666;
            margin-top: 5px;
        }
        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .chart-container h2 {
            margin-top: 0;
            color: #333;
        }
        .chart-wrapper {
            position: relative;
            height: 400px;
        }
        .domain-list {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .domain-list h2 {
            margin-top: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .domain-count {
            font-size: 0.6em;
            color: #666;
            font-weight: normal;
        }
        .domain-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background 0.2s;
        }
        .domain-item:hover {
            background: #f9f9f9;
        }
        .domain-item:last-child {
            border-bottom: none;
        }
        .domain-name {
            font-weight: 500;
            color: #333;
            flex: 1;
        }
        .domain-details {
            display: none;
            padding: 15px;
            background: #f5f5f5;
            margin-top: 10px;
            border-radius: 5px;
            font-size: 0.9em;
        }
        .domain-details.show {
            display: block;
        }
        .hazard-tags {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
            margin: 10px 0;
        }
        .hazard-tag {
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.85em;
            background: #e3f2fd;
            color: #1976d2;
        }
        .hazard-tag.health { background: #ffebee; color: #c62828; }
        .hazard-tag.behavioral { background: #fff3e0; color: #e65100; }
        .hazard-tag.marketing { background: #e8f5e9; color: #2e7d32; }
        .risk-badge {
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            color: white;
            margin-left: 10px;
        }
        .risk-high { background: #e74c3c; }
        .risk-medium { background: #f39c12; }
        .risk-low { background: #27ae60; }
        .risk-none { background: #95a5a6; }
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }
        .error {
            background: #ffebee;
            color: #c62828;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        @media (max-width: 768px) {
            .grid-2 { grid-template-columns: 1fr; }
            .nav-bar { 
                flex-direction: column; 
                gap: 10px;
                padding: 15px;
            }
            .nav-links { 
                width: 100%; 
                flex-direction: column;
                gap: 10px;
            }
            .nav-links a {
                text-align: center;
                padding: 10px;
            }
            body { padding: 10px; }
            h1 { font-size: 24px; }
            h2 { font-size: 20px; }
            .stats {
                grid-template-columns: 1fr 1fr;
                gap: 10px;
            }
            .stat-card { padding: 15px; }
            .stat-value { font-size: 1.5em; }
            .chart-container { margin-bottom: 15px; }
            .controls { padding: 15px; }
            .filter-group {
                flex-direction: column;
                gap: 8px;
            }
            .filter-btn {
                width: 100%;
                padding: 12px;
                font-size: 14px;
            }
            .search-box { font-size: 16px; } /* Prevents zoom on iOS */
            .section-content > div {
                grid-template-columns: 1fr !important;
            }
            .section-content #failedDomainsContainer { max-height: 300px; }
            .domain-list > div:first-child {
                flex-direction: column;
                gap: 10px;
                align-items: stretch !important;
            }
            .domain-list > div:first-child > div {
                justify-content: space-between;
                overflow-x: auto;
            }
            .domain-list > div:first-child button {
                font-size: 12px !important;
                padding: 8px 10px !important;
            }
            .domain-item { padding: 15px; }
            .domain-item h3 {
                font-size: 16px;
                word-break: break-word;
            }
            .hazard-tag {
                font-size: 11px;
                padding: 3px 8px;
            }
            .risk-badge {
                padding: 4px 10px;
                font-size: 12px;
            }
        }
        @media (max-width: 480px) {
            body { padding: 5px; }
            h1 { font-size: 20px; }
            h2 { font-size: 18px; }
            .stats { grid-template-columns: 1fr; }
            .stat-value { font-size: 1.8em; }
            .domain-count {
                display: block;
                margin-top: 5px;
                font-size: 14px;
            }
            .filter-btn { padding: 10px; }
            .domain-list > div:first-child button {
                font-size: 11px !important;
                padding: 6px 8px !important;
            }
        }
    </style>
</head>
<body>
    <nav class="nav-bar">
        <div class="nav-links">
            <a href="../../index.html" class="nav-link home">üè† Home</a>
            <a href="food & delivery_analysis.html" class="nav-link">Food & Delivery</a>
            <a href="cosmetics & beauty_analysis.html" class="nav-link">Cosmetics</a>
            <a href="conglomerates_analysis.html" class="nav-link">Conglomerates</a>
        </div>
    </nav>

    <div class="header">
        <h1>cosmetics & beauty - Content Analysis</h1>
        <p class="timestamp" id="timestamp">Loading...</p>
    </div>

    <div id="loading" class="loading">
        <h2>Loading analysis data...</h2>
        <p>Please wait while we fetch the results</p>
    </div>

    <div id="error" class="error" style="display: none;">
        <h2>Error Loading Data</h2>
        <p id="error-message"></p>
    </div>

    <div id="content" style="display: none;">
        <div class="controls">
            <h3>Filter Domains</h3>
            <input type="text" class="search-box" id="searchBox" placeholder="Search domains...">
            <div class="filter-group">
                <button class="filter-btn active" data-filter="all">All Domains</button>
                <button class="filter-btn" data-filter="high">High Risk (50+)</button>
                <button class="filter-btn" data-filter="medium">Medium Risk (30-49)</button>
                <button class="filter-btn" data-filter="low">Low Risk (< 30)</button>
                <button class="filter-btn" data-filter="failed">Failed Access</button>
            </div>
        </div>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-value" id="totalDomains">0</div>
                <div class="stat-label">Domains Analyzed</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="accessibleDomains">0</div>
                <div class="stat-label">Successfully Accessed</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="avgRisk">0</div>
                <div class="stat-label">Average Risk Score</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="highRiskDomains">0</div>
                <div class="stat-label">High Risk Domains</div>
            </div>
        </div>

        <div class="grid-2">
            <div class="chart-container">
                <h2>Health Hazards Detected</h2>
                <div class="chart-wrapper">
                    <canvas id="healthChart"></canvas>
                </div>
            </div>
            <div class="chart-container">
                <h2>Behavioral Manipulation</h2>
                <div class="chart-wrapper">
                    <canvas id="behavioralChart"></canvas>
                </div>
            </div>
        </div>

        <div class="chart-container">
            <h2>Marketing Tactics Distribution</h2>
            <div class="chart-wrapper">
                <canvas id="marketingChart"></canvas>
            </div>
        </div>

        <div class="chart-container">
            <h2>Risk Score Distribution</h2>
            <div class="chart-wrapper">
                <canvas id="riskChart"></canvas>
            </div>
        </div>

        <section class="collapsible-section">
            <div class="section-header" onclick="toggleSection('failedSection')">
                <h2>
                    <span class="toggle-icon" id="failedToggle">‚ñ∂</span>
                    Failed Analysis <span class="domain-count" id="failedCount"></span>
                </h2>
                <span style="color: #666; font-size: 14px;">Click to expand/collapse</span>
            </div>
            <div class="section-content" id="failedSection">
                <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 20px; margin-bottom: 20px;">
                    <div class="chart-container">
                        <h3>Error Distribution</h3>
                        <div class="chart-wrapper">
                            <canvas id="failedChart"></canvas>
                        </div>
                    </div>
                    <div style="display: flex; flex-direction: column;">
                        <p style="color: #666; margin: 0 0 15px 0;">Domains that could not be successfully analyzed</p>
                        <div id="failedDomainsContainer" style="flex: 1; overflow-y: auto; max-height: 400px;"></div>
                    </div>
                </div>
            </div>
        </section>

        <div class="domain-list">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <h2>Domain Details <span class="domain-count" id="domainCount"></span></h2>
                <div style="display: flex; gap: 10px; align-items: center;">
                    <span style="color: #666; font-size: 14px;">Sort by:</span>
                    <button class="filter-btn" id="sortScoreDesc" data-sort="score-desc" style="padding: 6px 12px; font-size: 14px;">Score ‚Üì</button>
                    <button class="filter-btn" id="sortScoreAsc" data-sort="score-asc" style="padding: 6px 12px; font-size: 14px;">Score ‚Üë</button>
                    <button class="filter-btn" id="sortAlphaAsc" data-sort="alpha-asc" style="padding: 6px 12px; font-size: 14px;">A-Z</button>
                    <button class="filter-btn" id="sortAlphaDesc" data-sort="alpha-desc" style="padding: 6px 12px; font-size: 14px;">Z-A</button>
                </div>
            </div>
            <div id="domainListContainer"></div>
        </div>
    </div>

    <script>
        let allData = null;
        let currentFilter = 'all';
        let searchQuery = '';
        let currentSort = 'score-desc'; // score-desc, score-asc, alpha-asc, alpha-desc
        
        // Store chart instances for updates
        let healthChart = null;
        let behavioralChart = null;
        let marketingChart = null;
        let riskChart = null;
        let failedChart = null;

        // Try to load JSON dynamically, fallback to embedded data
        const embeddedData = [
  {
    "domain": "ulta.com",
    "analyzed_at": "2025-12-31T17:01:25.315390",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "seo_metadata": ""
  },
  {
    "domain": "sephora.ca",
    "analyzed_at": "2025-12-31T17:01:25.317016",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "seo_metadata": ""
  },
  {
    "domain": "sephora.com",
    "analyzed_at": "2025-12-31T17:01:25.314964",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "seo_metadata": ""
  },
  {
    "domain": "sephora.co.ca",
    "analyzed_at": "2025-12-31T17:01:25.317888",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Page.goto: net::ERR_SSL_PROTOCOL_ERROR at https://sephora.co.ca/\nCall log:\n  - navigating to \"https://sephora.co.ca/\", waiting until \"domcontentloaded\"\n"
  },
  {
    "domain": "sephora.dev",
    "analyzed_at": "2025-12-31T17:01:27.839018",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {
      "discounts": 2
    },
    "marketing_tactics": {
      "personalization": 1
    },
    "promoted_products": [
      "We also offer",
      "Domain Backorders",
      "Domain Registration",
      "Business Phone Systems",
      "Domain Name Reseller"
    ],
    "related_domains": [
      "yay.com"
    ],
    "risk_score": 11,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [
      "Uses behavioral manipulation: discounts",
      "Employs aggressive marketing: personalization"
    ],
    "seo_metadata": "domain name registration - sephora.dev yay.com offers affordable domain registration and business cloud phone systems. search for your ideal domain name today."
  },
  {
    "domain": "sephora.co.uk",
    "analyzed_at": "2025-12-31T17:01:27.664045",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {
      "discounts": 5,
      "convenience": 2,
      "upselling": 2,
      "addiction_language": 3
    },
    "marketing_tactics": {
      "social_proof": 2,
      "scarcity": 2,
      "fomo": 1,
      "personalization": 2
    },
    "promoted_products": [
      "My account",
      "My orders",
      "Catalogue",
      "My offers",
      "Make an appointment",
      "Personal information",
      "My communications",
      "Need help ?"
    ],
    "related_domains": [
      "connect.studentbeans.com",
      "facebook.com",
      "instagram.com",
      "lvmh.com",
      "rangeme.com",
      "sephora.co.uk",
      "tiktok.com",
      "youtube.com"
    ],
    "risk_score": 72,
    "enabler_risk_bonus": 11,
    "high_risk_links": [
      {
        "domain": "sephora.co.uk",
        "risk_score": 66
      }
    ],
    "justification": [
      "FACILITATOR (Inbound): Used by 1 domain(s) (+6 points)",
      "  \u2190 Enables: sephora.co.uk (risk: 66)",
      "ENABLER (Outbound): Links to 1 high-risk domain(s) (+5 points)",
      "  \u2192 Facilitates: sephora.co.uk (risk: 66)",
      "Uses behavioral manipulation: discounts, convenience, upselling, addiction_language",
      "Employs aggressive marketing: social_proof, scarcity, fomo, personalization",
      "MODERATE RISK: Several concerning patterns detected"
    ],
    "seo_metadata": "sephora uk | beauty, makeup, skincare, haircare & fragrances we belong to something beautiful with over 500 makeup, fragrance, skin & hair brands, loyalty points & free birthday gifts at sephora.",
    "facilitated_domains": [
      {
        "domain": "sephora.co.uk",
        "risk_score": 66
      }
    ]
  },
  {
    "domain": "sephora.org",
    "analyzed_at": "2025-12-31T17:01:29.939905",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc406db500 (otid=0x7ddc492b7150) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "sephora.app",
    "analyzed_at": "2025-12-31T17:01:25.316245",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49350e00 (otid=0x7ddc492b5530) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "sephora.biz",
    "analyzed_at": "2025-12-31T17:01:25.316669",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49353780 (otid=0x7ddc492b5dd0) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "sephora.ai",
    "analyzed_at": "2025-12-31T17:01:25.315880",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49359f40 (otid=0x7ddc492b6640) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "sephora.co",
    "analyzed_at": "2025-12-31T17:01:25.317402",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49287880 (otid=0x7ddc492b6520) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "ulta.app",
    "analyzed_at": "2025-12-31T17:01:36.764793",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49353780 (otid=0x7ddc492b5dd0) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "ulta.biz",
    "analyzed_at": "2025-12-31T17:01:37.012176",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49359f40 (otid=0x7ddc492b6640) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "sephora.info",
    "analyzed_at": "2025-12-31T17:01:28.217742",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc4946f600 (otid=0x7ddc49375410) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "ulta.co.uk",
    "analyzed_at": "2025-12-31T17:01:38.313048",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49353780 (otid=0x7ddc492b5dd0) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "ulta.io",
    "analyzed_at": "2025-12-31T17:01:38.557761",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {
      "discounts": 1
    },
    "marketing_tactics": {
      "personalization": 1
    },
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 7,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [
      "Uses behavioral manipulation: discounts",
      "Employs aggressive marketing: personalization"
    ],
    "seo_metadata": "custom software development | enterprise applications | ulta.io ulta.io builds custom software and enterprise applications for startups to fortune 500 companies. turn your software vision into reality. contact us today. custom software development | enterprise applications | ulta.io ulta.io builds custom software and enterprise applications for startups to fortune 500 companies. turn your software vision into reality. contact us today. ulta.io custom software development | enterprise application"
  },
  {
    "domain": "sephora.uk",
    "analyzed_at": "2025-12-31T17:01:30.544028",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc405372c0 (otid=0x7ddc49377600) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "sephora.us",
    "analyzed_at": "2025-12-31T17:01:31.520263",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc406db500 (otid=0x7ddc492b7150) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "ulta.ai",
    "analyzed_at": "2025-12-31T17:01:36.593266",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49350e00 (otid=0x7ddc492b5530) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "ulta.co",
    "analyzed_at": "2025-12-31T17:01:37.306525",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49287880 (otid=0x7ddc492b6520) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "ulta.org",
    "analyzed_at": "2025-12-31T17:01:40.097695",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc4946f600 (otid=0x7ddc49375410) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "ulta.uk",
    "analyzed_at": "2025-12-31T17:01:40.288855",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49353780 (otid=0x7ddc492b5dd0) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "ulta.us",
    "analyzed_at": "2025-12-31T17:01:40.587313",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49359f40 (otid=0x7ddc492b6640) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "clinique.ai",
    "analyzed_at": "2025-12-31T17:01:51.441041",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc4946f600 (otid=0x7ddc49375410) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "loreal.com",
    "analyzed_at": "2025-12-31T17:01:41.764763",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc405372c0 (otid=0x7ddc49377600) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "esteelauder.com",
    "analyzed_at": "2025-12-31T17:01:42.722289",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc406db500 (otid=0x7ddc492b7150) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "clinique.com",
    "analyzed_at": "2025-12-31T17:01:48.364286",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49350e00 (otid=0x7ddc492b5530) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "maccosmetics.com",
    "analyzed_at": "2025-12-31T17:01:50.781887",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49287880 (otid=0x7ddc492b6520) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "clinique.ca",
    "analyzed_at": "2025-12-31T17:01:51.717224",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49353780 (otid=0x7ddc492b5dd0) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "clinique.co.ca",
    "analyzed_at": "2025-12-31T17:02:01.912331",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49359f40 (otid=0x7ddc492b6640) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "clinique.co.uk",
    "analyzed_at": "2025-12-31T17:02:02.613048",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc4946f600 (otid=0x7ddc49375410) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "clinique.io",
    "analyzed_at": "2025-12-31T17:02:03.111315",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc405372c0 (otid=0x7ddc49377600) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "esteelauder.co.ca",
    "analyzed_at": "2025-12-31T17:02:12.285986",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49287880 (otid=0x7ddc492b6520) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "esteelauder.ai",
    "analyzed_at": "2025-12-31T17:02:03.969981",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc406db500 (otid=0x7ddc492b7150) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "esteelauder.ca",
    "analyzed_at": "2025-12-31T17:02:09.879645",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49350e00 (otid=0x7ddc492b5530) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "esteelauder.co.uk",
    "analyzed_at": "2025-12-31T17:02:13.341508",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49353780 (otid=0x7ddc492b5dd0) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "loreal.ca",
    "analyzed_at": "2025-12-31T17:02:13.796981",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49359f40 (otid=0x7ddc492b6640) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "maccosmetics.ca",
    "analyzed_at": "2025-12-31T17:02:25.592354",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "seo_metadata": ""
  },
  {
    "domain": "maccosmetics.co.ca",
    "analyzed_at": "2025-12-31T17:02:34.786310",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49353780 (otid=0x7ddc492b5dd0) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "maccosmetics.co.uk",
    "analyzed_at": "2025-12-31T17:02:34.875618",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "seo_metadata": ""
  },
  {
    "domain": "loreal.io",
    "analyzed_at": "2025-12-31T17:02:24.389876",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49287880 (otid=0x7ddc492b6520) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "loreal.co",
    "analyzed_at": "2025-12-31T17:02:23.785761",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "seo_metadata": ""
  },
  {
    "domain": "maccosmetics.co",
    "analyzed_at": "2025-12-31T17:02:31.825262",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49350e00 (otid=0x7ddc492b5530) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "loreal.co.uk",
    "analyzed_at": "2025-12-31T17:02:24.244729",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "seo_metadata": ""
  },
  {
    "domain": "maccosmetics.info",
    "analyzed_at": "2025-12-31T17:02:42.978834",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {
      "upselling": 1
    },
    "marketing_tactics": {
      "social_proof": 1,
      "fomo": 1
    },
    "promoted_products": [
      "Bitly LinksCustomize, share, and track links",
      "Bitly CodesDynamic solutions to fit every business need",
      "RetailEnhance customer engagement",
      "Consumer Packaged GoodsConnect directly with consumers",
      "Media & EntertainmentCreate interactive experiences",
      "Tech Software & HardwareImprove product education",
      "HospitalityStreamline guest services",
      "Pricing (pre q3 2024)",
      "Want to create a short link?",
      "Did you know? Custom domainsget 2.3xmore clicks!"
    ],
    "related_domains": [
      "bitly.com",
      "dev.bitly.com",
      "facebook.com",
      "instagram.com",
      "linkedin.com",
      "mkt-static.bitly.com",
      "security.bitly.com",
      "support.bitly.com",
      "twitter.com"
    ],
    "risk_score": 10,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [
      "Uses behavioral manipulation: upselling",
      "Employs aggressive marketing: social_proof, fomo"
    ],
    "seo_metadata": "custom domain by bitly custom domain by bitly bitly"
  },
  {
    "domain": "maccosmetics.us",
    "analyzed_at": "2025-12-31T17:02:43.131144",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49353780 (otid=0x7ddc492b5dd0) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "covergirl.com",
    "analyzed_at": "2025-12-31T17:02:44.046789",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {
      "upselling": 1
    },
    "marketing_tactics": {
      "scarcity": 1
    },
    "promoted_products": [],
    "related_domains": [
      "coty.com",
      "cotyconsumeraffairs.com",
      "facebook.com",
      "instagram.com",
      "pl.pinterest.com",
      "tiktok.com",
      "twitter.com",
      "youtube.com"
    ],
    "risk_score": 7,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [
      "Uses behavioral manipulation: upselling",
      "Employs aggressive marketing: scarcity"
    ],
    "seo_metadata": "makeup and beauty products, makeup tips, try on looks and more | covergirl\u00ae face and eye makeup, lipstick, makeup tools and pro tips. check out our covergirl collections including trublend, outlast, blast and more. makeup and beauty products, makeup tips, try on looks and more | covergirl\u00ae face and eye makeup, lipstick, makeup tools and pro tips. check out our covergirl collections including trublend, outlast, blast and more."
  },
  {
    "domain": "maybelline.com",
    "analyzed_at": "2025-12-31T17:02:43.948224",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "seo_metadata": ""
  },
  {
    "domain": "covergirl.io",
    "analyzed_at": "2025-12-31T17:02:45.388079",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49353780 (otid=0x7ddc492b5dd0) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "revlon.com",
    "analyzed_at": "2025-12-31T17:02:44.460017",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "seo_metadata": ""
  },
  {
    "domain": "covergirl.ca",
    "analyzed_at": "2025-12-31T17:02:44.872708",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {
      "fomo": 1
    },
    "promoted_products": [],
    "related_domains": [
      "coty.com",
      "cotyconsumeraffairs.com",
      "covergirl.cotyconsumeraffairs.com",
      "facebook.com",
      "instagram.com",
      "pl.pinterest.com",
      "tiktok.com",
      "twitter.com",
      "youtube.com"
    ],
    "risk_score": 3,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [
      "Employs aggressive marketing: fomo"
    ],
    "seo_metadata": "makeup and beauty products, makeup tips, try on looks and more | covergirl\u00ae face and eye makeup, lipstick, makeup tools and pro tips. check out our covergirl collections including trublend, outlast, blast and more. makeup and beauty products, makeup tips, try on looks and more | covergirl\u00ae face and eye makeup, lipstick, makeup tools and pro tips. check out our covergirl collections including trublend, outlast, blast and more."
  },
  {
    "domain": "covergirl.co",
    "analyzed_at": "2025-12-31T17:02:45.250404",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc406db500 (otid=0x7ddc492b7150) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "covergirl.org",
    "analyzed_at": "2025-12-31T17:02:46.469167",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49359f40 (otid=0x7ddc492b6640) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "covergirl.uk",
    "analyzed_at": "2025-12-31T17:02:46.935001",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49353780 (otid=0x7ddc492b5dd0) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "maybelline.ai",
    "analyzed_at": "2025-12-31T17:02:47.872573",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc405372c0 (otid=0x7ddc49377600) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "maybelline.co.ca",
    "analyzed_at": "2025-12-31T17:02:49.767444",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49353780 (otid=0x7ddc492b5dd0) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "maybelline.ca",
    "analyzed_at": "2025-12-31T17:02:47.972392",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "seo_metadata": ""
  },
  {
    "domain": "maybelline.co",
    "analyzed_at": "2025-12-31T17:02:48.354062",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "seo_metadata": ""
  },
  {
    "domain": "maybelline.co.uk",
    "analyzed_at": "2025-12-31T17:02:50.385110",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "seo_metadata": ""
  },
  {
    "domain": "maybelline.io",
    "analyzed_at": "2025-12-31T17:02:51.452379",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49353780 (otid=0x7ddc492b5dd0) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "revlon.ai",
    "analyzed_at": "2025-12-31T17:02:51.689028",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc406db500 (otid=0x7ddc492b7150) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "covergirl.ai",
    "analyzed_at": "2025-12-31T17:02:44.598764",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49350e00 (otid=0x7ddc492b5530) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "revlon.ca",
    "analyzed_at": "2025-12-31T17:02:53.598069",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "seo_metadata": ""
  },
  {
    "domain": "covergirl.net",
    "analyzed_at": "2025-12-31T17:02:45.830264",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49287880 (otid=0x7ddc492b6520) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "revlon.co.ca",
    "analyzed_at": "2025-12-31T17:02:55.737348",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49350e00 (otid=0x7ddc492b5530) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "revlon.co.uk",
    "analyzed_at": "2025-12-31T17:02:55.811696",
    "accessible": true,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "seo_metadata": ""
  },
  {
    "domain": "revlon.app",
    "analyzed_at": "2025-12-31T17:02:51.963322",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49359f40 (otid=0x7ddc492b6640) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "revlon.biz",
    "analyzed_at": "2025-12-31T17:02:52.450588",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc405372c0 (otid=0x7ddc49377600) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "revlon.co",
    "analyzed_at": "2025-12-31T17:02:53.838014",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc406db500 (otid=0x7ddc492b7150) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "covergirl.us",
    "analyzed_at": "2025-12-31T17:02:47.694890",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc4946f600 (otid=0x7ddc49375410) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "revlon.info",
    "analyzed_at": "2025-12-31T17:02:57.834759",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49287880 (otid=0x7ddc492b6520) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "revlon.org",
    "analyzed_at": "2025-12-31T17:02:58.357935",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49353780 (otid=0x7ddc492b5dd0) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "revlon.net",
    "analyzed_at": "2025-12-31T17:02:57.995515",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49350e00 (otid=0x7ddc492b5530) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "revlon.uk",
    "analyzed_at": "2025-12-31T17:03:03.717933",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49359f40 (otid=0x7ddc492b6640) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "revlon.us",
    "analyzed_at": "2025-12-31T17:03:04.053803",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc405372c0 (otid=0x7ddc49377600) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "cultbeauty.com",
    "analyzed_at": "2025-12-31T17:03:09.189938",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc4946f600 (otid=0x7ddc49375410) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "beautybay.biz",
    "analyzed_at": "2025-12-31T17:03:09.507854",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49287880 (otid=0x7ddc492b6520) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "beautybay.ca",
    "analyzed_at": "2025-12-31T17:03:09.558688",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49353780 (otid=0x7ddc492b5dd0) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "beautybay.co.uk",
    "analyzed_at": "2025-12-31T17:03:14.817854",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49359f40 (otid=0x7ddc492b6640) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "beautybay.info",
    "analyzed_at": "2025-12-31T17:03:15.634608",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc405372c0 (otid=0x7ddc49377600) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "beautybay.co",
    "analyzed_at": "2025-12-31T17:03:10.020324",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49350e00 (otid=0x7ddc492b5530) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "beautybay.io",
    "analyzed_at": "2025-12-31T17:03:21.005337",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc4946f600 (otid=0x7ddc49375410) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "beautybay.org",
    "analyzed_at": "2025-12-31T17:03:21.397222",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49353780 (otid=0x7ddc492b5dd0) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "beautybay.uk",
    "analyzed_at": "2025-12-31T17:03:26.171631",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49359f40 (otid=0x7ddc492b6640) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "beautybay.us",
    "analyzed_at": "2025-12-31T17:03:26.798684",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc405372c0 (otid=0x7ddc49377600) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "cultbeauty.biz",
    "analyzed_at": "2025-12-31T17:03:31.217557",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49350e00 (otid=0x7ddc492b5530) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "beautybay.net",
    "analyzed_at": "2025-12-31T17:03:21.396680",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49287880 (otid=0x7ddc492b6520) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "cultbeauty.ca",
    "analyzed_at": "2025-12-31T17:03:32.318507",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc4946f600 (otid=0x7ddc49375410) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "cultbeauty.co.uk",
    "analyzed_at": "2025-12-31T17:03:32.734906",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49353780 (otid=0x7ddc492b5dd0) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "beautybay.com",
    "analyzed_at": "2025-12-31T17:03:05.126041",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc406db500 (otid=0x7ddc492b7150) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "cultbeauty.dev",
    "analyzed_at": "2025-12-31T17:03:37.303024",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49359f40 (otid=0x7ddc492b6640) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "cultbeauty.info",
    "analyzed_at": "2025-12-31T17:03:38.009749",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc405372c0 (otid=0x7ddc49377600) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "cultbeauty.net",
    "analyzed_at": "2025-12-31T17:03:42.812346",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49350e00 (otid=0x7ddc492b5530) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "cultbeauty.us",
    "analyzed_at": "2025-12-31T17:03:43.767474",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc4946f600 (otid=0x7ddc49375410) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "cultbeauty.uk",
    "analyzed_at": "2025-12-31T17:03:43.199954",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Cannot switch to a different thread\n\tCurrent:  <greenlet.greenlet object at 0x7ddc49287880 (otid=0x7ddc492b6520) current active started main>\n\tExpected: <greenlet.greenlet object at 0x7ddc4932d080 (otid=0x7ddc493740f0) suspended active started main>"
  },
  {
    "domain": "sephora.net",
    "analyzed_at": "2025-12-31T17:01:28.735490",
    "accessible": false,
    "health_hazards": {},
    "behavioral_hazards": {},
    "marketing_tactics": {},
    "promoted_products": [],
    "related_domains": [],
    "risk_score": 0,
    "enabler_risk_bonus": 0,
    "high_risk_links": [],
    "justification": [],
    "error": "Playwright error: Page.content: Unable to retrieve content because the page is navigating and changing the content."
  }
];
        
        document.addEventListener('DOMContentLoaded', async () => {
            // Check if we're viewing via file:// protocol
            const isFileProtocol = window.location.protocol === 'file:';
            
            if (!isFileProtocol) {
                try {
                    // Try loading from JSON file (works with web server or GitHub Pages)
                    const response = await fetch('../data/cosmetics_beauty_data.json');
                    if (response.ok) {
                        allData = await response.json();
                        console.log('%c‚úì Loaded fresh data from JSON file', 'color: green; font-weight: bold');
                        console.log('%cJSON updates will be reflected automatically!', 'color: green');
                    } else {
                        throw new Error('JSON fetch failed');
                    }
                } catch (error) {
                    // Fallback to embedded data
                    allData = embeddedData;
                    console.log('%c‚ö† Using embedded data (fetch failed)', 'color: orange; font-weight: bold');
                }
            } else {
                // Skip fetch attempt for file:// protocol to avoid console errors
                allData = embeddedData;
                console.log('%cüìÑ Viewing locally - using embedded data', 'color: blue; font-weight: bold');
                console.log('%cTip: View via web server for automatic JSON updates', 'color: #666');
            }
            
            document.getElementById('loading').style.display = 'none';
            document.getElementById('content').style.display = 'block';
            initializePage(allData);
        });

        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            const toggle = document.getElementById(sectionId.replace('Section', 'Toggle'));
            
            if (section.classList.contains('expanded')) {
                section.classList.remove('expanded');
                toggle.classList.remove('expanded');
            } else {
                section.classList.add('expanded');
                toggle.classList.add('expanded');
            }
        }

        function initializePage(data) {
            // Update timestamp
            if (data.length > 0 && data[0].analyzed_at) {
                const date = new Date(data[0].analyzed_at);
                document.getElementById('timestamp').textContent = 
                    `Generated: ${date.toLocaleString()}`;
            }

            // Calculate stats
            const accessible = data.filter(d => d.accessible);
            const avgRisk = accessible.length > 0
                ? (accessible.reduce((sum, d) => sum + d.risk_score, 0) / accessible.length).toFixed(1)
                : 0;
            const highRisk = accessible.filter(d => d.risk_score > 50).length;

            document.getElementById('totalDomains').textContent = data.length;
            document.getElementById('accessibleDomains').textContent = accessible.length;
            document.getElementById('avgRisk').textContent = avgRisk;
            document.getElementById('highRiskDomains').textContent = highRisk;

            // Aggregate hazards
            const healthHazards = {};
            const behavioralHazards = {};
            const marketingTactics = {};

            accessible.forEach(result => {
                Object.entries(result.health_hazards || {}).forEach(([key, val]) => {
                    healthHazards[key] = (healthHazards[key] || 0) + val;
                });
                Object.entries(result.behavioral_hazards || {}).forEach(([key, val]) => {
                    behavioralHazards[key] = (behavioralHazards[key] || 0) + val;
                });
                Object.entries(result.marketing_tactics || {}).forEach(([key, val]) => {
                    marketingTactics[key] = (marketingTactics[key] || 0) + val;
                });
            });

            // Create charts
            createHealthChart(healthHazards);
            createBehavioralChart(behavioralHazards);
            createMarketingChart(marketingTactics);
            createRiskChart(accessible);

            // Render failed domains section with chart
            const failedDomains = data.filter(d => !d.accessible);
            createFailedChart(failedDomains);
            renderFailedDomains(data);

            // Render domain list
            renderDomainList(data);

            // Setup filters
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentFilter = btn.dataset.filter;
                    
                    // Update failed domains display based on filter
                    if (currentFilter === 'failed') {
                        renderFailedDomains(data);
                    }
                    
                    updateChartsAndList(data);
                });
            });

            // Setup search
            document.getElementById('searchBox').addEventListener('input', (e) => {
                searchQuery = e.target.value.toLowerCase();
                updateChartsAndList(data);
            });
            
            // Setup sort buttons
            document.querySelectorAll('[data-sort]').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('[data-sort]').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentSort = btn.dataset.sort;
                    renderDomainList(data);
                });
            });
            
            // Set initial sort button active state
            document.getElementById('sortScoreDesc').classList.add('active');
        }
        
        function updateChartsAndList(data) {
            const filtered = filterDomains(data);
            
            // Recalculate aggregated hazards from filtered data
            const accessible = filtered.filter(d => d.accessible);
            const healthHazards = {};
            const behavioralHazards = {};
            const marketingTactics = {};

            accessible.forEach(result => {
                Object.entries(result.health_hazards || {}).forEach(([key, val]) => {
                    healthHazards[key] = (healthHazards[key] || 0) + val;
                });
                Object.entries(result.behavioral_hazards || {}).forEach(([key, val]) => {
                    behavioralHazards[key] = (behavioralHazards[key] || 0) + val;
                });
                Object.entries(result.marketing_tactics || {}).forEach(([key, val]) => {
                    marketingTactics[key] = (marketingTactics[key] || 0) + val;
                });
            });
            
            // Update charts with filtered data
            updateChart(healthChart, healthHazards);
            updateChart(behavioralChart, behavioralHazards);
            updateChart(marketingChart, marketingTactics);
            updateRiskChart(riskChart, accessible);
            
            // Update domain list
            renderDomainList(data);
        }
        
        function updateChart(chart, newData) {
            if (!chart) return;
            chart.data.labels = Object.keys(newData);
            chart.data.datasets[0].data = Object.values(newData);
            chart.update();
        }
        
        function updateRiskChart(chart, accessibleData) {
            if (!chart) return;
            const sorted = accessibleData.sort((a, b) => b.risk_score - a.risk_score).slice(0, 15);
            chart.data.labels = sorted.map(d => d.domain);
            chart.data.datasets[0].data = sorted.map(d => d.risk_score);
            chart.data.datasets[0].backgroundColor = sorted.map(d => 
                d.risk_score > 50 ? 'rgba(231, 76, 60, 0.7)' :
                d.risk_score > 30 ? 'rgba(243, 156, 18, 0.7)' :
                'rgba(46, 204, 113, 0.7)'
            );
            chart.update();
        }

        function createHealthChart(data) {
            const ctx = document.getElementById('healthChart').getContext('2d');
            healthChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: Object.keys(data),
                    datasets: [{
                        label: 'Occurrences',
                        data: Object.values(data),
                        backgroundColor: 'rgba(231, 76, 60, 0.7)',
                        borderColor: 'rgba(231, 76, 60, 1)',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } }
                }
            });
        }

        function createBehavioralChart(data) {
            const ctx = document.getElementById('behavioralChart').getContext('2d');
            behavioralChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: Object.keys(data),
                    datasets: [{
                        data: Object.values(data),
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.7)',
                            'rgba(54, 162, 235, 0.7)',
                            'rgba(255, 206, 86, 0.7)',
                            'rgba(75, 192, 192, 0.7)',
                            'rgba(153, 102, 255, 0.7)',
                            'rgba(255, 159, 64, 0.7)'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });
        }

        function createMarketingChart(data) {
            const ctx = document.getElementById('marketingChart').getContext('2d');
            marketingChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: Object.keys(data),
                    datasets: [{
                        label: 'Occurrences',
                        data: Object.values(data),
                        backgroundColor: 'rgba(52, 152, 219, 0.7)',
                        borderColor: 'rgba(52, 152, 219, 1)',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    plugins: { legend: { display: false } }
                }
            });
        }

        function createRiskChart(data) {
            const ctx = document.getElementById('riskChart').getContext('2d');
            const sorted = data.sort((a, b) => b.risk_score - a.risk_score).slice(0, 15);
            riskChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: sorted.map(d => d.domain),
                    datasets: [{
                        label: 'Risk Score',
                        data: sorted.map(d => d.risk_score),
                        backgroundColor: sorted.map(d => 
                            d.risk_score > 50 ? 'rgba(231, 76, 60, 0.7)' :
                            d.risk_score > 30 ? 'rgba(243, 156, 18, 0.7)' :
                            'rgba(46, 204, 113, 0.7)'
                        ),
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true, max: 100 }
                    },
                    plugins: { legend: { display: false } }
                }
            });
        }

        function createFailedChart(failedDomains) {
            if (failedChart) {
                failedChart.destroy();
            }
            
            // Categorize errors
            const errorCategories = {};
            failedDomains.forEach(domain => {
                const error = domain.error || 'Unknown error';
                let category = 'Other';
                
                if (error.includes('Timeout') || error.includes('timeout')) {
                    category = 'Timeout';
                } else if (error.includes('Insufficient content')) {
                    category = 'Insufficient Content';
                } else if (error.includes('thread') || error.includes('greenlet')) {
                    category = 'Threading Issue';
                } else if (error.includes('DNS') || error.includes('resolve')) {
                    category = 'DNS/Network';
                } else if (error.includes('SSL') || error.includes('certificate')) {
                    category = 'SSL/Certificate';
                } else if (error.includes('Connection refused') || error.includes('ECONNREFUSED')) {
                    category = 'Connection Refused';
                }
                
                errorCategories[category] = (errorCategories[category] || 0) + 1;
            });

            const ctx = document.getElementById('failedChart').getContext('2d');
            failedChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: Object.keys(errorCategories),
                    datasets: [{
                        data: Object.values(errorCategories),
                        backgroundColor: [
                            'rgba(231, 76, 60, 0.7)',
                            'rgba(230, 126, 34, 0.7)',
                            'rgba(241, 196, 15, 0.7)',
                            'rgba(52, 152, 219, 0.7)',
                            'rgba(155, 89, 182, 0.7)',
                            'rgba(149, 165, 166, 0.7)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        function filterDomains(data) {
            let filtered = data;

            // Apply risk filter
            if (currentFilter === 'high') {
                filtered = filtered.filter(d => d.accessible && d.risk_score >= 50);
            } else if (currentFilter === 'medium') {
                filtered = filtered.filter(d => d.accessible && d.risk_score >= 30 && d.risk_score < 50);
            } else if (currentFilter === 'low') {
                filtered = filtered.filter(d => d.accessible && d.risk_score < 30);
            } else if (currentFilter === 'failed') {
                filtered = filtered.filter(d => !d.accessible);
            }

            // Apply search filter
            if (searchQuery) {
                filtered = filtered.filter(d => d.domain.toLowerCase().includes(searchQuery));
            }

            return filtered;
        }

        function renderFailedDomains(data) {
            const failed = data.filter(d => !d.accessible);
            const container = document.getElementById('failedDomainsContainer');
            document.getElementById('failedCount').textContent = `(${failed.length} domains)`;
            
            if (failed.length === 0) {
                container.innerHTML = '<p style="color: #666; padding: 20px; text-align: center;">No failed analyses - all domains were successfully analyzed!</p>';
                return;
            }
            
            // Categorize errors
            const errorCategories = {};
            failed.forEach(domain => {
                const error = domain.error || 'Unknown error';
                let category = 'Other';
                
                if (error.includes('Timeout') || error.includes('timeout')) {
                    category = 'Timeout';
                } else if (error.includes('Insufficient content')) {
                    category = 'Insufficient Content';
                } else if (error.includes('thread') || error.includes('greenlet')) {
                    category = 'Threading Issue';
                } else if (error.includes('DNS') || error.includes('resolve')) {
                    category = 'DNS/Network';
                } else if (error.includes('SSL') || error.includes('certificate')) {
                    category = 'SSL/Certificate';
                } else if (error.includes('Connection refused') || error.includes('ECONNREFUSED')) {
                    category = 'Connection Refused';
                }
                
                if (!errorCategories[category]) {
                    errorCategories[category] = [];
                }
                errorCategories[category].push(domain);
            });
            
            // Render by category
            let html = '<div style="display: grid; gap: 20px;">';
            
            Object.keys(errorCategories).sort().forEach(category => {
                const domains = errorCategories[category];
                html += `
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #e74c3c;">
                        <h3 style="margin: 0 0 10px 0; color: #e74c3c; font-size: 16px;">
                            ${category} (${domains.length})
                        </h3>
                        <div style="display: grid; gap: 10px;">
                `;
                
                domains.forEach(domain => {
                    const errorMsg = (domain.error || 'Unknown error').replace(/</g, '&lt;').replace(/>/g, '&gt;');
                    html += `
                        <div style="background: white; padding: 10px 15px; border-radius: 5px; border: 1px solid #dee2e6;">
                            <div style="display: flex; justify-content: space-between; align-items: start;">
                                <div style="flex: 1;">
                                    <strong style="color: #2c3e50;">${domain.domain}</strong>
                                    <div style="font-size: 12px; color: #7f8c8d; margin-top: 5px; font-family: monospace;">
                                        ${errorMsg.length > 150 ? errorMsg.substring(0, 150) + '...' : errorMsg}
                                    </div>
                                </div>
                                <span style="font-size: 11px; color: #95a5a6; white-space: nowrap; margin-left: 10px;">
                                    ${new Date(domain.analyzed_at).toLocaleDateString()}
                                </span>
                            </div>
                        </div>
                    `;
                });
                
                html += `
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }

        function renderDomainList(data) {
            let filtered = filterDomains(data);
            
            // Apply sorting
            if (currentSort === 'score-desc') {
                filtered.sort((a, b) => b.risk_score - a.risk_score);
            } else if (currentSort === 'score-asc') {
                filtered.sort((a, b) => a.risk_score - b.risk_score);
            } else if (currentSort === 'alpha-asc') {
                filtered.sort((a, b) => a.domain.localeCompare(b.domain));
            } else if (currentSort === 'alpha-desc') {
                filtered.sort((a, b) => b.domain.localeCompare(a.domain));
            }
            
            const container = document.getElementById('domainListContainer');
            document.getElementById('domainCount').textContent = `(${filtered.length} domains)`;

            container.innerHTML = filtered.map((domain, index) => {
                const riskClass = domain.risk_score >= 50 ? 'risk-high' :
                                 domain.risk_score >= 30 ? 'risk-medium' :
                                 domain.risk_score > 0 ? 'risk-low' : 'risk-none';
                
                let hazardTags = '';
                if (domain.accessible) {
                    const health = Object.keys(domain.health_hazards || {}).map(h => 
                        `<span class="hazard-tag health">${h}</span>`
                    ).join('');
                    const behavioral = Object.keys(domain.behavioral_hazards || {}).map(h => 
                        `<span class="hazard-tag behavioral">${h}</span>`
                    ).join('');
                    const marketing = Object.keys(domain.marketing_tactics || {}).map(h => 
                        `<span class="hazard-tag marketing">${h}</span>`
                    ).join('');
                    
                    if (health || behavioral || marketing) {
                        hazardTags = `<div class="hazard-tags">${health}${behavioral}${marketing}</div>`;
                    }
                }

                const detailsHtml = domain.accessible ? `
                    <div class="domain-details" id="details-${index}">
                        ${hazardTags}
                        ${domain.justification && domain.justification.length > 0 ? `
                            <strong>Justification:</strong>
                            <ul>${domain.justification.map(j => `<li>${j}</li>`).join('')}</ul>
                        ` : ''}
                        ${domain.method ? `<p><em>Analysis method: ${domain.method}</em></p>` : ''}
                    </div>
                ` : `
                    <div class="domain-details" id="details-${index}">
                        <p><strong>Error:</strong> ${domain.error || 'Unknown error'}</p>
                    </div>
                `;

                return `
                    <div class="domain-item" onclick="toggleDetails(${index})">
                        <span class="domain-name">${domain.domain}</span>
                        <span class="risk-badge ${riskClass}">${domain.risk_score}/100</span>
                    </div>
                    ${detailsHtml}
                `;
            }).join('');
        }

        function toggleDetails(index) {
            const details = document.getElementById(`details-${index}`);
            details.classList.toggle('show');
        }
    </script>
</body>
</html>
